<% layout('/layouts/boilerplate') -%>
  <!-- <br> -->
  <div id="filters">
    <div class="filter" data-category="All">
      <div><i class="fa-solid fa-earth-americas"></i></div>
      <p>All</p>
    </div> 
    <div class="filter" data-category="Trending">
      <div> <i class="fa-solid fa-fire"></i></div>
      <p>Trending</p>
    </div>
    <div class="filter" data-category="Rooms">
      <div><i class="fa-solid fa-bed"></i></div>
      <p>Rooms</p>
    </div>
    <div class="filter" data-category="Iconic Cities">
      <div><i class="fa-solid fa-building"></i></div>
      <p>Iconic Cities</p>
    </div>
    <div class="filter" data-category="Pools">
      <div><i class="fa-solid fa-water"></i></div>
      <p>Pools</p>
    </div>
    <div class="filter" data-category="Beach">
      <div><i class="fa-solid fa-umbrella-beach"></i></div>
      <p>Beach</p>
    </div>
    <div class="filter" data-category="Mountains">
      <div><i class="fa-solid fa-mountain-sun"></i></div>
      <p>Mountains</p>
    </div>
    <div class="filter" data-category="Farms">
      <div><i class="fa-solid fa-cow"></i></i></div>
      <p>Farms</p>
    </div>
    <div class="filter" data-category="Lake Front">
      <div><i class="fa-solid fa-house-flood-water-circle-arrow-right"></i></div>
      <p>Lake Front</p>
    </div>
    <div class="filter" data-category="Castle">
      <div><i class="fa-solid fa-chess-rook"></i></div>
      <p>Castle</p>
    </div>

    <div class="tax-toggle">
      <div class="form-check-reverse form-switch">
        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
        <label class="form-check-label" for="flexSwitchCheckDefault">Taxes</label>
      </div>
    </div>
  </div> <br>
  <div class="row row-cols-lg-4 row-cols-md-3 row-cols-sm-2" id="listing-container">
    <% for(let listing of listings) { %>
      <a href="/listings/<%= listing._id %>">
        <div class="card listing-card" id="card" data-category="<%= listing.category %>"
          data-location="<%= listing.location %> <%= listing.country %> <%= listing.title %>">
          <img src="<%= listing.image.url %>" class="card-img-top" style=" height: 290px;">
          <div class="card-img-overlay"></div>
          <div class="card-body">
            <b>
              <%= listing.title %>
            </b><br>
            <p class="card-text">
              Price: â‚¹ <%= listing.price?.toLocaleString("en-IN") || "N/A" %>/Night
                <i class="tax-Info">&nbsp; &nbsp; +18% GST</i>
            </p>
          </div>
        </div>
      </a>
      <% } %>
  </div>

  <script src="/JS/filterListing.js"></script>